<div class="editar-producto">
    <ba-card cardTitle="Modificar producto" baCardClass="with-scroll">
        <div class="row">
            <div class="col-sm-2">
                <div class="form-group">
                    <label for="codProducto">Codigo</label>
                    <input disabled [(ngModel)]="recurso.codProducto" type="text" class="form-control" id="codProducto" placeholder="">
                </div>
            </div>

            <div class="col-sm-3">
                <div class="form-group">
                    <label for="codigoBarra">Codigo Barra</label>
                    <input [(ngModel)]="recurso.codigoBarra" type="text" class="form-control" id="codigoBarra" placeholder="">
                </div>
            </div>

            <div class="col-sm-5">
                <div class="form-group">
                    <label for="descripcion">Descripcion</label>
                    <input [(ngModel)]="recurso.descripcion" type="text" class="form-control" id="descripcion" placeholder="">
                </div>
            </div>

            <div class="col-sm-2">
                <div class="form-group">
                    <label for="descripcionCorta">Desc Corta</label>
                    <input [(ngModel)]="recurso.descripcionCorta" type="text" class="form-control" id="descripcionCorta" placeholder="">
                </div>
            </div>
        </div>

        <div class="row custom-card">
            <div class="col-sm-3">
                <div class="form-group">
                    <label for="rubro">Rubro</label>
                    <select [compareWith]="utilsService.dropdownCompareWith" [(ngModel)]="recurso.subRubro.rubro" (ngModelChange)="onChangeRubro($event)" class="form-control" id="rubro">
                        <option *ngFor="let rub of rubros | async" [ngValue]="rub">
                            {{rub.descripcion}}
                        </option>
                    </select>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    <label for="subRubro">Sub Rubro</label>
                    <select [compareWith]="utilsService.dropdownCompareWith" [(ngModel)]="recurso.subRubro" class="form-control" id="subRubro">
                        <option *ngFor="let subRubro of subRubros | async" [ngValue]="subRubro">
                            {{subRubro.descripcion}}
                        </option>
                    </select>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    <label for="unidadCompra">Unidad Compra</label>
                    <select [compareWith]="utilsService.dropdownCompareWith" [(ngModel)]="recurso.unidadCompra" class="form-control" id="unidadCompra">
                        <option *ngFor="let uniCompra of unidadesCompra | async" [ngValue]="uniCompra">
                            {{uniCompra.descripcion}}
                        </option>
                    </select>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    <label for="unidadVenta">Unidad Venta</label>
                    <select [compareWith]="utilsService.dropdownCompareWith" [(ngModel)]="recurso.unidadVenta" class="form-control" id="unidadVenta">
                        <option *ngFor="let uniVenta of unidadesVenta | async" [ngValue]="uniVenta">
                            {{uniVenta.descripcion}}
                        </option>
                    </select>
                </div>
            </div>

            <div class="col-sm-3">
                <div class="checkbox-categ"> 
                    <ba-checkbox [(ngModel)]="recurso.stock" [label]="'Stock'" [ngModelOptions]="{standalone: true}"></ba-checkbox>
                </div>
            </div>

            <div class="col-sm-3">
                <div class="form-group">
                    <label for="IVA">IVA</label>
                    <select [compareWith]="utilsService.dropdownCompareWith" [(ngModel)]="recurso.IVA" class="form-control text-right-select" id="IVA">
                        <option *ngFor="let iva of ivas | async" [ngValue]="iva">
                            {{utilsService.parseDecimal(iva.porcIVA)}}
                        </option>
                    </select>
                </div>
            </div>

        </div>

        <div class="row custom-card">
            <div class="col-sm-4">
                <div class="form-group">
                    <label for="precioVentaProv">Precio Venta Prov</label>
                    <input [(ngModel)]="recurso.precioVentaProv" type="text" class="form-control text-right" id="precioVentaProv" placeholder="">
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    <label for="costoReposicion">Costo Reposicion</label>
                    <input [(ngModel)]="recurso.costoReposicion" type="text" class="form-control text-right" id="costoReposicion" placeholder="">
                </div>
            </div>
            <div class="col-sm-3">
                <div class="form-group">
                    <label for="puntoPedido">Punto Pedido</label>
                    <input [(ngModel)]="recurso.puntoPedido" type="text" class="form-control text-right" id="puntoPedido" placeholder="">
                </div>
            </div>
            <div class="col-sm-2">
                <div class="checkbox-apto-canje">
                    <ba-checkbox [(ngModel)]="recurso.aptoCanje" [label]="'Apto Canje'" [ngModelOptions]="{standalone: true}"></ba-checkbox>
                </div>
            </div>
        </div>

        <div class="row custom-card">
            <div class="col-sm-2">
                <div class="checkbox-traza">
                    <ba-checkbox [disabled]="recurso.trazable" [(ngModel)]="recurso.trazable" [label]="'Trazable'" [ngModelOptions]="{standalone: true}"></ba-checkbox>
                </div>
            </div>
            <div class="col-sm-2">
                <div class="checkbox-traza">
                    <ba-checkbox [disabled]="!recurso.trazable" [(ngModel)]="recurso.traReceta" [label]="'Receta'" [ngModelOptions]="{standalone: true}"></ba-checkbox>
                </div>
            </div>
            <div class="col-sm-2">
                <div class="checkbox-traza">
                    <ba-checkbox [disabled]="!recurso.trazable" [(ngModel)]="recurso.traInforma" [label]="'Informa'" [ngModelOptions]="{standalone: true}"></ba-checkbox>
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group gtin-group">
                    <label for="gtin">GTIN</label>
                    <input [disabled]="!recurso.trazable" [(ngModel)]="recurso.gtin" type="text" class="form-control" id="gtin" placeholder="">
                </div>
            </div>
        </div>


        <div class="row custom-card">
            <div class="col-sm-7">
                <div class="form-group">
                    <label for="observaciones">Observaciones</label>
                    <textarea [(ngModel)]="recurso.observaciones" class="form-control" placeholder="" id="observaciones"></textarea>
                </div>
            </div>

            <div class="offset-sm-2 col-sm-3">
                <div class="form-group">
                    <label for="modeloInputacion">Modelo inputacion</label>
                    <select [compareWith]="compareWithModeloImpu" [(ngModel)]="recurso.modeloCab" class="form-control" id="modeloCab">
                        <option *ngFor="let modCab of modelosCab | async" [ngValue]="modCab">
                            {{modCab.descripcion}}
                        </option>
                    </select>
                </div>
            </div>

            <!-- <div class="offset-sm-2 col-sm-3">
                <div class="form-group">
                    <label for="modeloImputacion">Modelo inputacion</label>
                    <input [(ngModel)]="recurso.modeloImputacion" type="text" class="form-control" id="modeloImputacion" placeholder="">
                </div>
            </div> -->
        </div>

        <button [disabled]="utilsService.checkIfIncomplete(recurso)([
                                'aptoCanje', 
                                'stock', 
                                'trazable', 
                                'traReceta', 
                                'traInforma',
                                'codigoBarra',
                                'descripcionCorta',
                                'descripcion',
                                'modeloImputacion',
                                'gtin',
                                'observaciones'
                            ])()"
                (click)="onClickEditar()" type="submit" class="btn btn-primary">Confirmar</button>
    </ba-card>

</div>